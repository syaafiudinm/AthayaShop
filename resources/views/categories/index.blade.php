@extends('layouts.app')

@section('content')
    <div class="flex-1 p-8">
        <h1 class="text-3xl font-semibold mb-4">Kategori</h1>
        <div class="flex gap-2">
            <!-- Refresh Button -->
            <div class="flex border border-gray-300 px-3 py-1 w-fit rounded-md">
                <div class="flex">
                    <a href="{{route('categories')}}" class="flex gap-1 mt-1">Refresh
                        <svg width="21" height="21" class="mt-[1px]" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.15 3.36878C11.3254 3.48823 11.4461 3.67245 11.4856 3.88092C11.5252 4.08938 11.4803 4.30502 11.3608 4.48038C11.2413 4.65574 11.0571 4.77646 10.8487 4.816C10.6402 4.85553 10.4246 4.81063 10.2492 4.69118C9.51062 4.18909 8.62525 3.94861 7.73415 4.00805C6.84305 4.0675 5.99747 4.42345 5.33213 5.01919C4.66679 5.61494 4.21995 6.41621 4.06281 7.29536C3.90566 8.1745 4.04725 9.08096 4.46502 9.8703C4.88278 10.6596 5.55269 11.2865 6.36802 11.6509C7.18335 12.0154 8.0972 12.0965 8.96398 11.8814C9.83076 11.6662 10.6006 11.1672 11.1509 10.4638C11.7012 9.76039 12.0002 8.89306 12.0004 7.99998C12.0004 7.7878 12.0847 7.58432 12.2347 7.43429C12.3847 7.28426 12.5882 7.19998 12.8004 7.19998C13.0126 7.19998 13.2161 7.28426 13.3661 7.43429C13.5161 7.58432 13.6004 7.7878 13.6004 7.99998C13.6002 9.25037 13.1815 10.4647 12.4111 11.4496C11.6407 12.4344 10.5628 13.1331 9.34922 13.4342C8.13564 13.7354 6.85618 13.6218 5.71469 13.1114C4.57319 12.601 3.63534 11.7233 3.05056 10.6181C2.46578 9.51289 2.26772 8.24375 2.48792 7.0129C2.70813 5.78205 3.33394 4.66031 4.26564 3.82639C5.19734 2.99248 6.38134 2.49438 7.62897 2.41144C8.87661 2.32851 10.1161 2.66552 11.15 3.36878Z" fill="black"/>
                            <path d="M10.8319 10.0048C10.7434 10.0614 10.6446 10.1 10.5412 10.1185C10.4377 10.1369 10.3317 10.1348 10.229 10.1123C10.1264 10.0897 10.0292 10.0472 9.94303 9.98707C9.85685 9.92697 9.78334 9.85048 9.72672 9.76197C9.67009 9.67346 9.63145 9.57466 9.61301 9.47122C9.59456 9.36777 9.59668 9.26171 9.61922 9.15908C9.64177 9.05646 9.68431 8.95927 9.74441 8.87309C9.80451 8.7869 9.88101 8.71339 9.96952 8.65677L12.7551 6.87517C12.9338 6.76457 13.1489 6.72874 13.3538 6.77541C13.5587 6.82208 13.737 6.94751 13.8502 7.12459C13.9634 7.30167 14.0023 7.51617 13.9586 7.72174C13.915 7.9273 13.7921 8.10742 13.6167 8.22317L10.8319 10.0048Z" fill="black"/>
                            <path d="M15.123 9.92798C15.2047 10.1209 15.2074 10.3382 15.1306 10.5331C15.0538 10.728 14.9036 10.885 14.7123 10.9704C14.521 11.0558 14.3039 11.0627 14.1075 10.9897C13.9112 10.9167 13.7513 10.7696 13.6622 10.58L12.4558 7.87598C12.4106 7.77971 12.385 7.67539 12.3806 7.56913C12.3762 7.46286 12.393 7.35677 12.43 7.25708C12.4671 7.15738 12.5237 7.06608 12.5964 6.98851C12.6692 6.91094 12.7567 6.84865 12.8538 6.8053C12.9509 6.76195 13.0557 6.73841 13.1621 6.73604C13.2684 6.73367 13.3742 6.75253 13.4731 6.79152C13.5721 6.8305 13.6623 6.88883 13.7384 6.96308C13.8146 7.03734 13.8751 7.12604 13.9166 7.22398L15.123 9.92798Z" fill="black"/>
                        </svg>                        
                    </a>
                </div>              
            </div>
        
            <!-- Create Button -->
            <div class="flex border border-gray-300 px-3 py-1 w-fit rounded-md">
                <div class="flex">
                    <a href="{{route('categories.create')}}" class="flex gap-1 mt-1">Create
                        <svg width="24" height="24" class="mt-[1px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11 13H6C5.71667 13 5.47934 12.904 5.288 12.712C5.09667 12.52 5.00067 12.2827 5 12C4.99934 11.7173 5.09534 11.48 5.288 11.288C5.48067 11.096 5.718 11 6 11H11V6C11 5.71667 11.096 5.47934 11.288 5.288C11.48 5.09667 11.7173 5.00067 12 5C12.2827 4.99934 12.5203 5.09534 12.713 5.288C12.9057 5.48067 13.0013 5.718 13 6V11H18C18.2833 11 18.521 11.096 18.713 11.288C18.905 11.48 19.0007 11.7173 19 12C18.9993 12.2827 18.9033 12.5203 18.712 12.713C18.5207 12.9057 18.2833 13.0013 18 13H13V18C13 18.2833 12.904 18.521 12.712 18.713C12.52 18.905 12.2827 19.0007 12 19C11.7173 18.9993 11.48 18.9033 11.288 18.712C11.096 18.5207 11 18.2833 11 18V13Z" fill="black"/>
                        </svg>
                    </a>
                </div>              
            </div>        
            <!-- Search Form (Move to the right) -->
            <form method="GET" action="{{ route('categories') }}" class="flex items-center border border-gray-300 rounded-lg p-2 ml-auto md:w-1/3">
                <!-- Search Icon -->
                <span class="text-gray-500 mr-2">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.0667 14L8.86667 9.8C8.53333 10.0667 8.15 10.2778 7.71667 10.4333C7.28333 10.5889 6.82222 10.6667 6.33333 10.6667C5.12222 10.6667 4.09733 10.2471 3.25867 9.408C2.42 8.56889 2.00044 7.544 2 6.33333C1.99956 5.12267 2.41911 4.09778 3.25867 3.25867C4.09822 2.41956 5.12311 2 6.33333 2C7.54356 2 8.56867 2.41956 9.40867 3.25867C10.2487 4.09778 10.668 5.12267 10.6667 6.33333C10.6667 6.82222 10.5889 7.28333 10.4333 7.71667C10.2778 8.15 10.0667 8.53333 9.8 8.86667L14 13.0667L13.0667 14ZM6.33333 9.33333C7.16667 9.33333 7.87511 9.04178 8.45867 8.45867C9.04222 7.87556 9.33378 7.16711 9.33333 6.33333C9.33289 5.49956 9.04133 4.79133 8.45867 4.20867C7.876 3.626 7.16756 3.33422 6.33333 3.33333C5.49911 3.33244 4.79089 3.62422 4.20867 4.20867C3.62644 4.79311 3.33467 5.50133 3.33333 6.33333C3.332 7.16533 3.62378 7.87378 4.20867 8.45867C4.79356 9.04356 5.50178 9.33511 6.33333 9.33333Z" fill="black"/>
                    </svg>                        
                </span>
                <!-- Search Input -->
                <input type="text" name="search" value="{{ request('search') }}" 
                    placeholder="Cari"
                    class="w-full bg-transparent border-none focus:ring-0 focus:outline-none placeholder-gray-500 text-gray-700" />
            </form>
        </div>
        <div class="mt-4 mb-4">
            @include('components.alert')
        </div>

        <div class="flex flex-wrap gap-4">
            <!-- CARD 1 -->
            <div class="w-full md:w-1/4 px-5 py-5 bg-[#A5A5A5] rounded-lg shadow-lg">
                <div class="flex">
                    <div>
                        <!-- ICON -->
                        <svg width="16" height="22" viewBox="0 0 16 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M0 5C0 3.67392 0.526784 2.40215 1.46447 1.46447C2.40215 0.526784 3.67392 0 5 0C5.482 0 5.938 0.17 6.114 0.667C6.25216 1.05674 6.50768 1.39411 6.84541 1.63271C7.18314 1.87131 7.58649 1.99942 8 1.99942C8.41351 1.99942 8.81686 1.87131 9.15459 1.63271C9.49232 1.39411 9.74784 1.05674 9.886 0.667C10.063 0.17 10.519 0 11 0C12.3261 0 13.5979 0.526784 14.5355 1.46447C15.4732 2.40215 16 3.67392 16 5V5.5C16 5.89782 15.842 6.27936 15.5607 6.56066C15.2794 6.84196 14.8978 7 14.5 7H12C12 7.77 11.924 8.554 12.438 9.197L14.466 11.732C15.459 12.9732 16 14.5154 16 16.105V17C16 17.7956 15.6839 18.5587 15.1213 19.1213C14.5587 19.6839 13.7956 20 13 20H3C2.20435 20 1.44129 19.6839 0.87868 19.1213C0.316071 18.5587 0 17.7956 0 17V16.105C-7.39962e-06 14.5154 0.540989 12.9732 1.534 11.732L3.562 9.197C4.076 8.554 4 7.771 4 7H1.5C1.10218 7 0.720644 6.84196 0.43934 6.56066C0.158035 6.27936 0 5.89782 0 5.5V5Z" fill="black"/>
                        </svg>                            
                    </div>
                    <a href="#" class="ml-auto">Lihat Produk</a>
                </div>
                <div class="mt-12">
                    <h3 class="font-semibold">Total Koleksi Baju</h3>
                    <span class="text-5xl font-bold">{{$categories->count()}}</span>
                </div>
            </div>
        
            <!-- CARD 2 -->
            <div class="w-full md:w-1/4 px-5 py-5 bg-[#A5A5A5] rounded-lg shadow-lg">
                <div class="flex">
                    <div>
                        <svg width="16" height="22" viewBox="0 0 16 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M0 5C0 3.67392 0.526784 2.40215 1.46447 1.46447C2.40215 0.526784 3.67392 0 5 0C5.482 0 5.938 0.17 6.114 0.667C6.25216 1.05674 6.50768 1.39411 6.84541 1.63271C7.18314 1.87131 7.58649 1.99942 8 1.99942C8.41351 1.99942 8.81686 1.87131 9.15459 1.63271C9.49232 1.39411 9.74784 1.05674 9.886 0.667C10.063 0.17 10.519 0 11 0C12.3261 0 13.5979 0.526784 14.5355 1.46447C15.4732 2.40215 16 3.67392 16 5V5.5C16 5.89782 15.842 6.27936 15.5607 6.56066C15.2794 6.84196 14.8978 7 14.5 7H12C12 7.77 11.924 8.554 12.438 9.197L14.466 11.732C15.459 12.9732 16 14.5154 16 16.105V17C16 17.7956 15.6839 18.5587 15.1213 19.1213C14.5587 19.6839 13.7956 20 13 20H3C2.20435 20 1.44129 19.6839 0.87868 19.1213C0.316071 18.5587 0 17.7956 0 17V16.105C-7.39962e-06 14.5154 0.540989 12.9732 1.534 11.732L3.562 9.197C4.076 8.554 4 7.771 4 7H1.5C1.10218 7 0.720644 6.84196 0.43934 6.56066C0.158035 6.27936 0 5.89782 0 5.5V5Z" fill="black"/>
                        </svg>                            
                    </div>
                    <a href="#" class="ml-auto">Lihat Produk</a>
                </div>
                <div class="mt-12">
                    <h3 class="font-semibold">Total Koleksi Baju</h3>
                    <span class="text-5xl font-bold">{{$categories->count()}}</span>
                </div>
            </div>
        
            <!-- CARD 3 -->
            <div class="w-full md:w-1/4 px-5 py-5 bg-[#A5A5A5] rounded-lg shadow-lg">
                <div class="flex">
                    <div>
                        <svg width="16" height="22" viewBox="0 0 16 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M0 5C0 3.67392 0.526784 2.40215 1.46447 1.46447C2.40215 0.526784 3.67392 0 5 0C5.482 0 5.938 0.17 6.114 0.667C6.25216 1.05674 6.50768 1.39411 6.84541 1.63271C7.18314 1.87131 7.58649 1.99942 8 1.99942C8.41351 1.99942 8.81686 1.87131 9.15459 1.63271C9.49232 1.39411 9.74784 1.05674 9.886 0.667C10.063 0.17 10.519 0 11 0C12.3261 0 13.5979 0.526784 14.5355 1.46447C15.4732 2.40215 16 3.67392 16 5V5.5C16 5.89782 15.842 6.27936 15.5607 6.56066C15.2794 6.84196 14.8978 7 14.5 7H12C12 7.77 11.924 8.554 12.438 9.197L14.466 11.732C15.459 12.9732 16 14.5154 16 16.105V17C16 17.7956 15.6839 18.5587 15.1213 19.1213C14.5587 19.6839 13.7956 20 13 20H3C2.20435 20 1.44129 19.6839 0.87868 19.1213C0.316071 18.5587 0 17.7956 0 17V16.105C-7.39962e-06 14.5154 0.540989 12.9732 1.534 11.732L3.562 9.197C4.076 8.554 4 7.771 4 7H1.5C1.10218 7 0.720644 6.84196 0.43934 6.56066C0.158035 6.27936 0 5.89782 0 5.5V5Z" fill="black"/>
                        </svg>                            
                    </div>
                    <a href="#" class="ml-auto">Lihat Produk</a>
                </div>
                <div class="mt-12">
                    <h3 class="font-semibold">Total Koleksi Baju</h3>
                    <span class="text-5xl font-bold">{{$categories->count()}}</span>
                </div>
            </div>
        </div>
        <div>
            <table class="w-full mt-6 border-separate border-spacing-y-3">
                <thead class="bg-[#A5A5A5]">
                    <tr>
                        <th class="text-left px-4 py-2 rounded-l-lg">ID Kategori</th>
                        <th class="text-left px-4 py-2">Nama Kategori</th>
                        <th class="text-left px-4 py-2">Deskripsi</th>
                        <th class="text-left px-4 py-2">Tanggal Dibuat</th>
                        <th class="text-left px-4 py-2 rounded-r-lg">Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach ($categories as $category)
                        <tr class="rounded-lg shadow border border-gray-800 overflow-hidden">
                            <td class="px-4 py-2 font-semibold">{{$loop->iteration}}</td>
                            <td class="px-4 py-2 font-medium ">{{ $category->name }}</td>
                            <td class="px-4 py-2 font-medium">
                                {{ $category->description }}
                            </td>
                            <td class="px-4 py-2 font-medium">
                                {{ $category->created_at->format('d F Y') }}
                            </td>
                            <td class="px-4 py-2">
                                <div class="flex items-center gap-2">
                                    <a href="{{ route('categories.edit', $category->id) }}" class="text-black hover:text-blue-600">
                                        <!-- Edit Icon -->
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M5 15.9999L4 19.9999L8 18.9999L19.586 7.41394C19.9609 7.03889 20.1716 6.53027 20.1716 5.99994C20.1716 5.46961 19.9609 4.961 19.586 4.58594L19.414 4.41394C19.0389 4.039 18.5303 3.82837 18 3.82837C17.4697 3.82837 16.9611 4.039 16.586 4.41394L5 15.9999Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M5 16L4 20L8 19L18 9L15 6L5 16Z" fill="black"/>
                                            <path d="M15 6L18 9M13 20H21" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>                                            
                                    </a>
                                    <form action="{{ route('categories.destroy', $category->id) }}" method="POST" class="delete-form">
                                        @csrf
                                        @method('DELETE')
                                        <button type="submit" class="text-black hover:text-red-600">
                                            <!-- Delete Icon -->
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7 21C6.45 21 5.97933 20.8043 5.588 20.413C5.19667 20.0217 5.00067 19.5507 5 19V6H4V4H9V3H15V4H20V6H19V19C19 19.55 18.8043 20.021 18.413 20.413C18.0217 20.805 17.5507 21.0007 17 21H7ZM9 17H11V8H9V17ZM13 17H15V8H13V17Z" fill="black"/>
                                            </svg>
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    @endforeach
                </tbody>
            </table>            
        </div>
    </div>
@endsection